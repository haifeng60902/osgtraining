require('lfs')
--package.cpath = build .. "./lib?.so;" .. build .. "./?.dll;" -- "../lib/" .. build .. "./lib?.so;../bin/" .. build .. "./?.dll"

--
--  NEVER COMMIT THIS FILE !!!!
--  ==========================
--

-- load plugins
--require 'corrector'
require 'edModelGraph'
--require 'TerrainGraphics'
require 'Ephemeris'
require 'edterrainGraphics41'
require 'edterrainEditors4'
--require 'ParticleEffectPlugin'
require 'GraphicsUtils'
require 'DSCamera'
require 'Explosion'
--require 'ParticleSystem'
require 'EEffectCPU'
require 'LandTextureGenerator'
require 'SyntheticTests'
--require 'GUI'
require 'Water'

-- enable gui
showgui = 1;

-- renderer dll must have "createRenderer" entry point
renderer = "dx11backend.dll";
pipeline = "lockon";

nullDevice = false;
screenWidth = 1024;
screenHeight = 768;
fullscreen = 0;
adapternumber = 0;
sync = 0;
dsformat=0;	--0=D24S8,1=R32
antialiasing = 0;
showstatistic = 1;
showcursor = 1;
coreCount = 1;		
showCameraInfo = true;

frameTimeFailThreshold = 4000/60;
plotFrameTimeMax = 2./30;

metaShaderCacheEnabled = true;

gpuQuery = true;

near = 0.7;
middle = 70.0;
far = 50000;

videoQuality=0.8;--0..1
videoFps=10;

observer = {1, -1, 0.5};
simulationDate = {2010, 06, 01, 12, 0, 0};

dx11renderer = 
{
--	dumpResourceCreation = true;
	computeGroupSize = 128;        -- оптимальный размер группы для компьют шейдеров (1d)
}

taskManager = 
{
	seconds = 2./1000;
	jobs = 2;
}
forceLoading =
{
	radius = 5;
}
processor = 
{
	--dumpProcessorNumber = true;
	--realtimePriority = true;
	--processAffinity = 1+2+4+8;
	--mainThreadAffinity = 1;
	--taskManagerThreadAffinity = 2;
}

local lockonpath = os.getenv("LOCKONEXE") or ""

loadingType = "delay"; -- delay, immediately
--loadingType = "immediately";

textures={
	"./",
	"./textures",
	"./textures/ParticleEffects",
	"./graphics/textures/font",
	"./graphics/textures/trash",
	"./graphics/textures/moon",
	"./graphics/textures/overcast",
	"./graphics/textures/overcast/OVH",
	"./graphics/textures/ParticleEffect",
	"./graphics/textures/water",
	"./graphics/textures/noises",
	"./graphics/textures/WaterEffects",
	"./graphics/textures/corrector",
	"./graphics/textures/lights",
	"./graphics/textures/weapons",
	"./ParticleEffects/textures",
	"./graphics/misc/clouds",
}

models={
	"./models",

-- Plz, Never commit this Trash to svn!!!!!
--	lockonpath .. "/Bazar/Terrain/Structures/High/EDM",
--	lockonpath .. "/Bazar/World/Shapes"
}


-- read "local" options
if lfs.attributes("scripts/options/local.options.conf", 'mode') == 'file' then
	dofile("scripts/options/local.options.conf");
end
